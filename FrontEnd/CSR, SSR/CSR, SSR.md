# CSR, SSR

## MPA, SPA

### MPA

multi page application의 약자로 여러 페이지로 구성된 웹 어플리케이션입니다.

사용자의 클릭과 같이 인터렉션이 발생할 때마다 서버로부터 새로운 html을 받아와서 해당 링크로 이동하여 페이지 전체를 새로 렌더링하는 전통적인 웹 페이지 구성 방식입니다.

### SPA

Single Page Application의 약자로 하나의 페이지로 구성된 웹 어플리케이션 입니다.

브라우저에 최초에 한번 페이지 전체를 로드하고, 이후부터는 특정 부분만 Ajax를 통해 데이터를 바인딩하는 방식입니다.

단일 페이지 어플리케이션(SPA)는 현재 웹개발의 트랜드로 볼 수 있고, 우리가 배운 react와 vue, 앵귤러와 같은 자바스크립트 프레임워크등이 spa의 방식을 가지고 있습니다.

## SSR

**S**erver **S**ide **R**endering의 약자.

ssr이란 **서버로부터 완전하게 만들어진 html파일을 받아와 페이지 전체를 렌더링 하는 방식**입니다.

MPA 구조에 사용됩니다.

![Untitled](CSR,%20SSR%20f31a81ba1e1949529b453bdd5aff3855/Untitled.png)

1. User가 Website 요청을 보냄.
2. Server는 'Ready to Render'. 즉, 즉시 렌더링 가능한 `html`파일을 만든다.(리소스 체크, 컴파일 후 완성된 HTML 컨텐츠로 만든다.)
3. 클라이언트에 전달되는 순간, 이미 렌더링 준비가 되어있기 때문에 HTML은 즉시 렌더링 된다. 그러나 사이트 자체는 조작 불가능하다. (Javascript가 읽히기 전이다.)
4. 클라이언트가 자바스크립트를 다운받는다.
5. 다운 받아지고 있는 사이에 유저는 컨텐츠는 볼 수 있지만 사이트를 조작 할 수는 없다. 이때의 사용자 조작을 기억하고 있는다.
6. 브라우저가 Javascript 프레임워크를 실행한다.
7. JS까지 성공적으로 컴파일 되었기 때문에 기억하고 있던 사용자 조작이 실행되고 이제 웹 페이지는 상호작용 가능해진다.

### 장점

1. SEO

**검색엔진최적화 라고도 불린 seo 요란 검색엔진이 웹을 크롤링 하면서 페이지에 컨텐츠 색인을 생성하는 과정**입니다

서버사이드 렌더링을 채택하는 멀티 페이지 어플리케이션은 화면을 구성하는 **각각의 페이지가 있기 때문에** seo 의 유리한 장점이 있습니다

1. 빠른 로딩 속도

**서버로부터 화면을 렌더 하기 위한 필수적인 요소를 먼저 가져오기 때문에** 이후에 설명할 클라이언트 사이드 렌더링 보다 초기로 로딩 속도가 빠릅니다

### 단점

1. **TTV(Time To View)와 TTI(Time To Interact) 간에 시간 간격**

SSR의 경우 html을 먼저 받아와 화면을 보여주고(TTV) 이후 JS 파일을 받아와 이벤트를 연결(TTI)해줍니다.

그사이 시간이 길어질 수 있고 사용자는 그 사이 화면은 볼 수 있지만 작동은 되지 않습니다.

1. 새로 고침

SSR의 특성 상 약간의 변경에도 전체 html을 다시 불러와야 하기에 **매번 페이지를 요청할 때마다 새로 고침 되어** 사용자 경험이 다소 떨어집니다

1. 서버 부하

페이지를 요청할 때마다 서버에서 **페이지를 구성하는 모든 리소스를 준비해서 응답하므로**
 서버 부담이 증가 됩니다.

## CSR

**클라이언트 사이드 렌더링 이란 사용자의 요청에 따라 필요한 부분만 응답 받아 렌더링 하는 방식**입니다.

SPA 구조에 사용됩니다.

![Untitled](CSR,%20SSR%20f31a81ba1e1949529b453bdd5aff3855/Untitled%201.png)

1. User가 Website 요청을 보냄.
2. CDN이 HTML 파일과 JS로 접근할 수 있는 링크를 클라이언트로 보낸다.
3. 클라이언트는 HTML과 JS를 다운로드 받는다.(이때 SSR과 달리 유저는 아무것도 볼 수 없다.)
4. 다운이 완료된 JS가 실행된다. 데이터를 위한 `API`가 호출된다.(이때 유저들은 `placeholder`를 보게된다. )
5. 서버가 API로부터의 요청에 응답한다.
6. API로부터 받아온 data를 placeholder 자리에 넣어준다. 이제 페이지는 상호작용이 가능해진다.

### 장점

1. **빠른 속도**

변경된 부분과 관련된 데이터만 가져오므로 **서버사이드 랜더링 보다 빠른 속도**를 보입니다.

1. **서버 부하 감소**

**변경된 부분만 요청함으로써 서버의 부담**을 줄일 수 있습니다.

1. **사용자 친화적**

페이지 안에 컨텐츠를 클릭하여 다음 단계로 전환 하는 과정에서 링크가 없기 때문에 깜빡이 먼 깜빡임 없이 부드러운 이동을 경험할 수 있습니다.

### 단점

1. **초기 로딩 속도**

클라이언트 사이드 렌더링은 초기에 모든 js 파일을 다운받아 와야 하기 때문에 초기 로딩 시간이 오래 걸립니다.

1. seo

싱글 페이지 어플리케이션은 자바스크립트를 사용하여 사용자와 상호 작용 후에 페이지 내용을 로드하기 때문에 **웹 크롤러 가 페이지를 색인화 하려고 하면 내용의 빈 페이지처럼 보이게** 됩니다

참고

[https://miracleground.tistory.com/165](https://miracleground.tistory.com/165)

[https://velog.io/@vagabondms/기술-스터디-SSR과-CSR의-차이](https://velog.io/@vagabondms/%EA%B8%B0%EC%88%A0-%EC%8A%A4%ED%84%B0%EB%94%94-SSR%EA%B3%BC-CSR%EC%9D%98-%EC%B0%A8%EC%9D%B4)