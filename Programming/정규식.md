## 정규표현식(Regular Expression, Regex)



### 서론

정규표현식이란(이하, 정규식) 문자열을 조건에 맞게 처리하여 표현하는 형식언어이다. 1956년 스티븐 클레이니에 의해 고안된 것으로 알려져있으며, 이후 POSIX 표준으로 인정되었다. 주로 회원가입시 이메일, 비밀번호의 보안 정책을 만족하는 유효한 입력을 받는 등 여러 조건에서 사용한다.

✓ POSIX?

​	UNIX OS간 호환이 가능하도록 IEEE에서 책정한 애플리케이션 인터페이스 규격



### 문법

정규식은 **/ ... /** 와 같이 슬래쉬로 감싼 범위 내의 패턴과 일치하는 문자를 찾아낸다. 정규식에서 사용하는 기호인 Meta문자는 각각 의미를 가지고 있으며, 이를 조합해 특정 조건을 만족하는 문자열을 얻을 수 있다. Meta문자들은 다음과 같다.

| Meta   | 의미                                                         |
| ------ | ------------------------------------------------------------ |
| ^      | 문자열 시작                                                  |
| $      | 문자열 종료                                                  |
| .      | 임의의 한 문자. 어떤 문자와도 일치                           |
| \|     | 논리식 or                                                    |
| []     | 문자열 클래스. 클래스 내부 조건과 일치한 경우 true           |
| [^]    | 문자열 클래스 내부 조건의 논리식 not                         |
| [-]    | 문자열 클래스 내부에서 범위를 지정. 아스키 코드 순으로 범위가 지정됨 |
| ()     | 그룹 지정. 그룹으로 지정된 범위의 문자열에 정규식 처리 우선권이 있음 |
| ?      | 앞의 문자가 없거나 하나 있음                                 |
| +      | 앞의 문자가 하나 이상 있음                                   |
| *      | 앞의 문자가 0개 이상 있음                                    |
| {n}    | 앞의 문자가 n개 있음                                         |
| {n, m} | 앞의 문자가 n개 이상 m개 이하 있음                           |
| \s     | 공백 문자                                                    |
| \b     | 문자와 공백 사이                                             |
| \t     | tab 문자                                                     |
| \w     | _를 포함한 영숫자를 포함하면 true                            |
| \d     | 숫자를 포함하면 true                                         |

✓ Meta문자를 문자 자체로 포함하고 싶은 경우 \를 붙여 사용한다. 예) \^

✓ \이 포함된 Meta문자의 경우 대문자로 작성하면 반대되는 조건을 적용한다.



또한, 패턴 구분자(/)뒤에 Flag를 통해 정규식을 통해 패턴을 찾을 때 방법을 지정할 수 있다.

| Flag | 의미                                             |
| ---- | ------------------------------------------------ |
| g    | 전역. 문자열 내의 모든 패턴을 찾는다.            |
| i    | 문자열의 대소문자 구분과 상관없이 패턴을 찾는다. |
| m    | 문자열에 줄 바꿈이 있어도 패턴을 찾는다.         |
| s    | 개행문자**(\n)**를 포함해 패턴을 찾는다.         |
| x    | 공백문자를 무시하고 패턴을 찾는다.               |

✓ 프로그래밍 언어별 정규식 모듈의 사용법이 상이할 수 있다.



### 사용 예시

1. 조건을 반복하기

​	주민등록번호를 정규식으로 나타내고 싶은 경우 아래처럼 나타낼 수 있다.

```js
[0-9][0-9][0-9][0-9][0-9][0-9]-[0-9][0-9][0-9][0-9][0-9][0-9][0-9]
```

​	하지만 이 경우 사용하기에도, 보기에도 좋지 않다. 이처럼 같은 조건이 반복되는 경우 다음 방법을 	사용할 수 있다.

```js
/// {n}: 앞의 문자가 n개 존재함
[0-9]{6}-[0-9]{7}
```

​	단, 실제 주민등록번호의 경우 여러 고려해야할 부분이 있어 해당 정규식을 보완해서 사용한다.



2. 이메일 패턴 찾기

​	가장 익숙한 정규식의 패턴이다. 사용자의 회원가입 시 서비스 정책에 맞는 이메일 형식을 따르는	지 판단할 수 있다.

```js
[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}
```



3. 휴대폰 번호 패턴 찾기

​	이메일 패턴과 비슷하게 익숙한 휴대폰 번호 패턴이다.

```
01([0|1|6|7|8|9])-([0-9]{3,4})-([0-9]{4})
```



이외에도 다양한 패턴들이 존재한다. 원하는 패턴을 검색하면 어렵지 않게 찾을 수 있을 것이다. 이외에도 정규식을 테스트 해볼 수 있는 웹 사이트도 다수 있으니 참고하면 좋다.



### 결론

정규식은 개발자에게 쉽고 빠르게 패턴 검색을 할 수 있게 도와준다. 하지만, 처음 접한 경우 가독성이 떨어지고 패턴을 작성하기에 어려움이 있을 수 있다. 정규식은 소개한 바 이외에도 확장 정규식도 많이 존재하고 다양한 패턴이 존재하는 만큼 우리가 모든 것을 알기란 어렵다. 단, 정규식이 무엇이고 어떤 역할을 하는지 알고 있다면 개발을 함에 있어서 필요한 패턴을 찾아 적용하는 데 유의미한 도움을 줄 것이다. 



### 참조

https://noahlogs.tistory.com/52

https://www.nextree.co.kr/p4327/

https://ko.wikipedia.org/wiki/%EC%A0%95%EA%B7%9C_%ED%91%9C%ED%98%84%EC%8B%9D